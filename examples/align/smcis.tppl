// The variance for this program is better for SMC than for IS

function flip(p) {
  sample(bernoulli(p))
}

if flip(0.5) then {
  weight(log(1))
  resample()
  if flip(0.5) then {
    weight(log(1))
  } else {
    weight(log(10))
  }
} else {
  weight(log(10))
  resample()
  if flip(0.5) then {
    weight(log(1))
  } else {
    weight(log(10))
  }
}
